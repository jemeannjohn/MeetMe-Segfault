<template name="timeslotsInformation">
    <div class="x-content">
        <h4>Please pick the timeslots for your meeting.</h4>
        <input type="hidden" name="{{_id}}">
        {{#each date}}
            <table class="ui celled collapsing table timeslotsTable" align="center">
                <thead>
                <tr>
                    <th colspan="13" style="text-align: center">{{prettifyDate this}}</th>
                </tr>
                </thead>
                <tbody>
                <tr class="am">
                    <td width="5%"><b>AM</b></td>
                    <!--<td><input type="checkbox" value="AM" class="all"/><label>All</label></td>-->
                    <td><input type="checkbox" value="{{this}}" class="1"/><label> 12 - 1</label></td>
                    <td><input type="checkbox" value="{{this}}" class="2"/><label> 1 - 2</label></td>
                    <td><input type="checkbox" value="{{this}}" class="3"/><label> 2 - 3</label></td>
                    <td><input type="checkbox" value="{{this}}" class="4"/><label> 3 - 4</label></td>
                    <td><input type="checkbox" value="{{this}}" class="5"/><label> 4 - 5</label></td>
                    <td><input type="checkbox" value="{{this}}" class="6"/><label> 5 - 6</label></td>
                    <td><input type="checkbox" value="{{this}}" class="7"/><label> 6 - 7</label></td>
                    <td><input type="checkbox" value="{{this}}" class="8"/><label> 7 - 8</label></td>
                    <td><input type="checkbox" value="{{this}}" class="9"/><label> 8 - 9</label></td>
                    <td><input type="checkbox" value="{{this}}" class="10"/><label> 9 - 10</label></td>
                    <td><input type="checkbox" value="{{this}}" class="11"/><label> 10 - 11</label></td>
                    <td><input type="checkbox" value="{{this}}" class="12"/><label> 11 - 12</label></td>
                </tr>
                <tr class="pm">
                    <td width="5%"><b>PM</b></td>
                    <!--<td><input type="checkbox" value="PM" class="all"/><label>All</label></td>-->
                    <td><input type="checkbox" value="{{this}}" class="13"/><label> 12 - 1</label></td>
                    <td><input type="checkbox" value="{{this}}" class="14"/><label> 1 - 2</label></td>
                    <td><input type="checkbox" value="{{this}}" class="15"/><label> 2 - 3</label></td>
                    <td><input type="checkbox" value="{{this}}" class="16"/><label> 3 - 4</label></td>
                    <td><input type="checkbox" value="{{this}}" class="17"/><label> 4 - 5</label></td>
                    <td><input type="checkbox" value="{{this}}" class="18"/><label> 5 - 6</label></td>
                    <td><input type="checkbox" value="{{this}}" class="19"/><label> 6 - 7</label></td>
                    <td><input type="checkbox" value="{{this}}" class="20"/><label> 7 - 8</label></td>
                    <td><input type="checkbox" value="{{this}}" class="21"/><label> 8 - 9</label></td>
                    <td><input type="checkbox" value="{{this}}" class="22"/><label> 9 - 10</label></td>
                    <td><input type="checkbox" value="{{this}}" class="23"/><label> 10 - 11</label></td>
                    <td><input type="checkbox" value="{{this}}" class="24"/><label> 11 - 12</label></td>
                </tr>
                </tbody>
            </table>
        {{/each}}
        <script src="https://apis.google.com/js/platform.js?onload=onLoadCallback" async defer></script>
        <div id="output">
            <!--<script type="text/javascript">-->
                <!--// Your Client ID can be retrieved from your project in the Google-->
                <!--// Developer Console, https://console.developers.google.com-->
                <!--var CLIENT_ID = '379128109747-tfrqdiuvmaeq7m46ojahtfcdgavkv0e3.apps.googleusercontent.com';-->

                <!--var SCOPES = ["https://www.googleapis.com/auth/calendar.readonly"];-->

                <!--/**-->
                 <!--* Check if current user has authorized this application.-->
                 <!--*/-->
                <!--function checkAuth() {-->
                    <!--gapi.auth.authorize(-->
                            <!--{-->
                                <!--'client_id': CLIENT_ID,-->
                                <!--'scope': SCOPES.join(' '),-->
                                <!--'immediate': true-->
                            <!--}, handleAuthResult);-->
                <!--}-->

                <!--/**-->
                 <!--* Handle response from authorization server.-->
                 <!--*-->
                 <!--* @param {Object} authResult Authorization result.-->
                 <!--*/-->
                <!--function handleAuthResult(authResult) {-->
                    <!--var authorizeDiv = document.getElementById('authorize-div');-->
                    <!--if (authResult && !authResult.error) {-->
                        <!--// Hide auth UI, then load client library.-->
                        <!--authorizeDiv.style.display = 'none';-->
                        <!--loadCalendarApi();-->
                    <!--} else {-->
                        <!--// Show auth UI, allowing the user to initiate authorization by-->
                        <!--// clicking authorize button.-->
                        <!--authorizeDiv.style.display = 'inline';-->
                    <!--}-->
                <!--}-->

                <!--/**-->
                 <!--* Initiate auth flow in response to user clicking authorize button.-->
                 <!--*-->
                 <!--* @param {Event} event Button click event.-->
                 <!--*/-->
                <!--function handleAuthClick(event) {-->
                    <!--gapi.auth.authorize(-->
                            <!--{client_id: CLIENT_ID, scope: SCOPES.join(' '), immediate: true},-->
                            <!--handleAuthResult);-->
                    <!--return false;-->
                <!--}-->

                <!--/**-->
                 <!--* Load Google Calendar client library. List upcoming events-->
                 <!--* once client library is loaded.-->
                 <!--*/-->
                <!--function loadCalendarApi() {-->
                    <!--gapi.client.load('calendar', 'v3', listUpcomingEvents);-->
                <!--}-->

                <!--/**-->
                 <!--* Print the summary and start datetime/date of the next ten events in-->
                 <!--* the authorized user's calendar. If no events are found an-->
                 <!--* appropriate message is printed.-->
                 <!--*/-->
                <!--function listUpcomingEvents() {-->
                    <!--var request = gapi.client.calendar.events.list({-->
                        <!--'calendarId': 'primary',-->
                        <!--'timeMin': (new Date()).toISOString(),-->
                        <!--'showDeleted': false,-->
                        <!--'singleEvents': true,-->
                        <!--'maxResults': 10,-->
                        <!--'orderBy': 'startTime'-->
                    <!--});-->

                    <!--request.execute(function(resp) {-->
                        <!--var events = resp.items;-->
                        <!--appendPre('Upcoming events:');-->

                        <!--if (events.length > 0) {-->
                            <!--for (i = 0; i < events.length; i++) {-->
                                <!--var event = events[i];-->
                                <!--var when = event.start.dateTime;-->
                                <!--if (!when) {-->
                                    <!--when = event.start.date;-->
                                <!--}-->
                                <!--appendPre(event.summary + ' (' + when + ')')-->
                            <!--}-->
                        <!--} else {-->
                            <!--appendPre('No upcoming events found.');-->
                        <!--}-->

                    <!--});-->
                <!--}-->

                <!--/**-->
                 <!--* Append a pre element to the body containing the given message-->
                 <!--* as its text node.-->
                 <!--*-->
                 <!--* @param {string} message Text to be placed in pre element.-->
                 <!--*/-->
                <!--function appendPre(message) {-->
                    <!--var pre = document.getElementById('output');-->
                    <!--var textContent = document.createTextNode(message + '\n');-->
                    <!--pre.appendChild(textContent);-->
                <!--}-->

            <!--</script>-->
            <script src="https://apis.google.com/js/client.js">
            </script>
            <div id="authorize-div">
                <span>Authorize access to Google Calendar API</span>
                <!--Button for the user to click to initiate auth sequence -->
                <button id="authorize-button">
                    Authorize
                </button>
            </div>
            <pre id="output"></pre>
        </div>
        <div class="ui negative message" hidden="true" id="errorMessageTimeslots">
            <i class="close icon" id="closeError"></i>
            <div class="header">
                Please check atleast one time slot.
            </div>
            </div>
        <input type="button" value="Submit" id="timeSlotsSubmit">
    </div>
</template>